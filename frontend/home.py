"""
서비스 설명 기재 (최초로 진입하는 페이지)
"""

import streamlit as st

st.title("💭 UpThink")
st.caption("지식을 정리하는 사고에만 집중해 보세요!")

st.markdown("""### 개요
개인 지식 관리 환경(Obsidian)에서 노트에 지식을 정리할 때, 가장 중요한 사고의 흐름이 끊긴 적 있으신가요?

▪︎ㅤ노트 내 이미지의 정보를 직접 옮겨 적거나 \\
▪︎ㅤ태그의 대소문자나 구분자 등 스타일링 규칙을 고민하거나 \\
▪︎ㅤ작성 중인 내용과 연관된 과거 노트를 찾기 위해 탐색하거나 \\
▪︎ㅤ내용이 너무 많아진 노트를 어떻게 분할할지 막막하거나

UpThink는 Upstage Solar Pro 2의 강력한 언어 이해 능력을 활용하여 이러한 지식 관리의 병목 구간을 해결합니다. \\
이미지 분석부터 태그 정리, 연관 지식 탐색, 노트 분할까지! 번거로운 정리 작업은 AI에게 맡기고, 가장 중요한 사고 활동에만 몰입해 보세요.
""")

st.markdown("""### 서비스 기능
##### 1️⃣ 이미지 대체 텍스트 생성
노트 내 이미지를 탐색하여 Upstage Document Parse로 텍스트를 추출한 후, Solar Pro 2를 사용하여 이미지를 설명하는 대체 텍스트를 생성합니다. \\
생성된 대체 텍스트는 이미지 링크의 바로 아래에 추가되어, 사용자가 수정된 Markdown 파일을 다운로드할 수 있습니다.

##### 2️⃣ 태그 추천
Obsidian Vault 경로에 있는 모든 Markdown 파일에서 2가지 태그 패턴을 추출합니다. \\
사용자가 업로드한 파일 내용과 직접 설정한 가이드라인(언어, 포맷 등)을 기반으로 태그를 생성하고, 기존 태그와의 유사도를 비교해 최종 태그를 선별합니다. \\
최종 선정된 태그 목록은 YAML Frontmatter 형식으로 노트 최상단에 자동으로 추가되어, 사용자가 수정된 Markdown 파일을 다운로드할 수 있습니다.

##### 3️⃣ 연관 노트 추천
Upstage Embedding을 활용하여 노트 chunk를 임베딩하고, ChromaDB를 벡터 저장소로 사용하여 의미 기반 검색을 구현하였습니다. 증분 업데이트 구조를 구축해 재임베딩 비용을 최소화하였습니다.

##### 4️⃣ 노트 분할
노트에 혼재된 여러 맥락에서 Solar Pro 2를 통해 주제(topic)와 coverage, 해당 주제 노트에 포함할 keywords, 참조할 본문의 line_numbers를 추출 및 제안하고, 사용자가 주제를 확인해 편집, 삭제, 추가, 선별하여 선별된 주제들에 대한 노트 초안과 가이드라인을 생성, markdown 파일을 지정된 경로에 저장합니다.
""")